<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Convite Minecraft</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="entrada">
  <!-- Sons -->
  <audio id="click-sound" src="https://www.myinstants.com/media/sounds/minecraft_click.mp3"></audio>
  <audio id="hover-sound" src="https://www.myinstants.com/media/sounds/pop.mp3"></audio>
  <audio id="bg-music" src="https://vgmsite.com/soundtracks/minecraft-volume-alpha/vbgqtkzzub/04.%20Sweden.mp3" loop></audio>

  <!-- Canvas partÃ­culas -->
  <canvas id="particles"></canvas>

  <!-- ConteÃºdo -->
  <div class="entrada-container">
    <h1 id="typing-text">VocÃª foi convidado!</h1>
    <p>Clique no botÃ£o para ver o convite do meu aniversÃ¡rio ðŸŽ‰</p>
    <button id="btn-convite" onclick="irParaConvite()">Ver Convite</button>
  </div>

  <!-- Scripts -->
  <script>
    const bgMusic = document.getElementById("bg-music");
    const clickSound = document.getElementById("click-sound");
    const hoverSound = document.getElementById("hover-sound");

    // Tocar mÃºsica ao entrar (volume baixo)
    window.addEventListener("load", () => {
      bgMusic.volume = 0.3;
      bgMusic.play().catch(() => {
        // Algumas vezes o autoplay sÃ³ funciona com interaÃ§Ã£o
        document.addEventListener("click", () => bgMusic.play(), { once: true });
      });
    });

    // Som ao passar mouse no botÃ£o
    const btn = document.getElementById("btn-convite");
    btn.addEventListener("mouseenter", () => {
      hoverSound.play();
    });

    // Redirecionar com som e parar a mÃºsica
    function irParaConvite() {
      clickSound.currentTime = 0;
      clickSound.play();
      bgMusic.pause();
      setTimeout(() => {
        window.location.href = "convite.html";
      }, 400);
    }

    // Typing effect no tÃ­tulo
    const texto = "VocÃª foi convidado!";
    let index = 0;
    const typing = () => {
      if (index < texto.length) {
        document.getElementById("typing-text").innerHTML += texto.charAt(index);
        index++;
        setTimeout(typing, 80);
      }
    };
    document.getElementById("typing-text").innerHTML = "";
    typing();

    // AnimaÃ§Ã£o de partÃ­culas estilo pixel Minecraft
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const particlesArray = [];
    const colors = ['#55ff55', '#ffaa00', '#00aaff', '#aa00ff'];
    for (let i = 0; i < 80; i++) {
      particlesArray.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 6 + 4,
        speedX: (Math.random() - 0.5) * 1.5,
        speedY: (Math.random() - 0.5) * 1.5,
        color: colors[Math.floor(Math.random() * colors.length)]
      });
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particlesArray.forEach(p => {
        ctx.fillStyle = p.color;
        ctx.fillRect(p.x, p.y, p.size, p.size);
        p.x += p.speedX;
        p.y += p.speedY;

        if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
        if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
      });
      requestAnimationFrame(animateParticles);
    }
    animateParticles();

    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
